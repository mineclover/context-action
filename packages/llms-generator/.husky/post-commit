#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Git 커밋 후 문서 동기화 자동 실행
echo "🔄 커밋 후 문서 동기화를 시작합니다..."

# 로컬 개발 환경에서 pnpm cli 사용
cd packages/llms-generator && pnpm cli sync-docs --quiet

# 동기화 결과에 따른 메시지
if [ $? -eq 0 ]; then
  echo "✅ 문서 동기화가 완료되었습니다."
else
  echo "⚠️ 문서 동기화 중 일부 문제가 발생했습니다. 로그를 확인하세요."
fi

echo "📝 커밋 완료: $(git log -1 --pretty=format:'%h %s')"