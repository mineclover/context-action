#!/bin/sh

# Get list of modified markdown files in docs directory
MODIFIED_DOCS=$(git diff --cached --name-only --diff-filter=ACM | grep -E '^docs/(en|ko)/.*\.md$' | grep -v llms/ || true)

if [ -n "$MODIFIED_DOCS" ]; then
  echo "📝 Detected modified documentation files. Updating LLM work status..."
  
  # Run the update script
  node scripts/update-llms-status.js $MODIFIED_DOCS
  
  # Add the updated priority.json files to the commit
  git add packages/llms-generator/data/**/priority.json 2>/dev/null || true
  
  echo "✅ LLM work status updated"
fi
